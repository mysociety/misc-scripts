#!/bin/bash
#
# bin/gettext-makemo
# Convert all .po files of translations into .mo files
#
# --verbose - show status of all translations
#
# Copyright (c) 2005 UK Citizens Online Democracy. All rights reserved.
# Email: francis@mysociety.org; WWW: http://www.mysociety.org/
#
# $Id: gettext-makemo,v 1.6 2005-12-15 21:50:35 francis Exp $

if [ ! -d locale ]
then
    echo "Run in root mysociety directory with locale directory just below"!
    exit
fi

MSGFMT_PARAMS="-v"
if [ "$1" = "--quiet" ]
then
    MSGFMT_PARAMS=""
fi

for X in locale/*.UTF-8
do
    if [ -d $X ]
    then
        cd $X/LC_MESSAGES
        [ "$1" != "--quiet" ] && echo -n "$X: " 
        msgfmt -c $MSGFMT_PARAMS -o PledgeBank.mo PledgeBank.po
        cd ../../../
    fi
done

