#!/bin/bash
#
# bin/gettext-extract
# Generate English language .po files from the source code, for all localisable
# mySociety projects. Writes the output to appropriate .po files in locale/.
#
# Copyright (c) 2005 UK Citizens Online Democracy. All rights reserved.
# Email: francis@mysociety.org; WWW: http://www.mysociety.org/
#
# $Id: gettext-extract,v 1.1 2005-09-14 18:05:46 francis Exp $

TEMP=`tempfile`
xgettext --from-code=utf-8 -o $TEMP phplib/*.php pb/phplib/*.php pb/web/*.php

cat $TEMP | sed "
        s/SOME DESCRIPTIVE TITLE/PledgeBank origianal .po file, autogenerated by gettext-extract/;
        s/YEAR THE PACKAGE'S COPYRIGHT HOLDER/2005 UK Citizens Online Democracy/;
        s/PACKAGE package/main PledgeBank code/;
        s/FIRST AUTHOR <EMAIL@ADDRESS>, YEAR./Matthew Somerville <matthew@mysociety.org>, 2005-08-13./;

        s/PACKAGE VERSION/1.0/;
        s/Report-Msgid-Bugs-To: /Report-Msgid-Bugs-To: matthew@mysociety.org/;
        s/LL@li.org/team@pledgebank.com/;
" > ../mysociety/locale/PledgeBank.po 

