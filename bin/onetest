#!/usr/bin/perl -w
#
# monitor:
# Run one monitoring test directly, and display its output.
#
# Copyright (c) 2006 UK Citizens Online Democracy. All rights reserved.
# Email: chris@mysociety.org; WWW: http://www.mysociety.org/
#

my $rcsid = ''; $rcsid .= '$Id: onetest,v 1.3 2006-04-02 01:29:00 francis Exp $';

use strict;

use FindBin;
use lib "$FindBin::Bin/../../perllib";
use lib "$FindBin::Bin/../perllib/tests";

use mySociety::Config;
BEGIN {
    mySociety::Config::set_file("$FindBin::Bin/../conf/general");
}

my $name = shift;
die "Please specify test, e.g. Web, as parameter" if !$name;

eval "use $name";
die "failed to import $name: $@" if ($@);
eval "\\&${name}::test()";
die "failed to call test() on $name: $@" if ($@);

